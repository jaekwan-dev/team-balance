# 축구/풋살 동호회 관리 시스템 PRD
**Product Requirements Document v1.0**

## 1. 제품 개요

### 1.1 제품명
**PPUNGBROS** - 스마트 축구/풋살 동호회 관리 플랫폼

### 1.2 제품 비전
축구/풋살 동호회의 일정 관리와 공평한 팀 편성을 자동화하여, 모든 회원이 즐겁게 운동할 수 있는 환경을 만듭니다.

### 1.3 핵심 가치
- **공평성**: 레벨 기반 자동 팀 편성으로 균형잡힌 경기
- **편의성**: 모바일 최적화된 간편한 일정 관리
- **투명성**: 실시간 참석 현황과 투표 시스템

## 2. 사용자 정의

### 2.1 타겟 사용자

| 사용자 유형 | 설명 | 주요 니즈 |
|------------|------|-----------|
| 관리자 | 동호회 운영진 | 일정 관리, 회원 레벨 관리, 팀 편성 |
| 일반 회원 | 동호회 소속 회원 | 일정 확인, 참석 투표, 의견 공유 |
| 게스트 | 비회원 참가자 | 일회성 참가 |
### 2.2 사용자 페르소나

#### 관리자 - 김철수 (35세)
- 5년차 동호회 운영진
- 매주 경기 일정 관리와 팀 편성에 2시간 소요
- 공평한 팀 편성으로 회원들의 만족도를 높이고 싶음

#### 일반 회원 - 이영희 (28세)
- 주 1회 축구 동호회 참여
- 바쁜 일정 속에서 쉽게 참석 여부를 결정하고 싶음
- 자신의 실력 향상을 체계적으로 관리받고 싶음

## 3. 기능 요구사항

### 3.1 인증 및 회원가입

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 카카오 소셜 로그인 | 카카오 계정으로 원클릭 로그인 | P0 |
| 자동 회원가입 | 최초 로그인 시 자동 계정 생성 | P0 |
| 추가 정보 입력 | 이름, 선호 포지션, 연락처 등 입력 | P0 |

### 3.2 회원 관리

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 레벨 관리 | 관리자가 회원별 실력 레벨 설정/수정 | P0 |
| 프로필 조회 | 회원 정보 및 참석 이력 확인 | P1 |
| 권한 관리 | 관리자/일반회원 권한 설정 | P0 |

### 3.3 일정 관리

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 일정 CRUD | 관리자의 일정 생성/수정/삭제 | P0 |
| 일정 목록 | 예정된 일정 리스트 표시 | P0 |
| 일정 상세 | 날짜, 시간, 장소, 참석자 정보 | P0 |

### 3.4 참석 관리

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 참석 투표 | 참석/불참 투표 | P0 |
| 게스트 추가 | 게스트 인원과 레벨 지정 | P0 |
| 실시간 현황 | 참석자 수 및 명단 실시간 업데이트 | P0 |
| 댓글 기능 | 일정별 의견 공유 | P1 |

### 3.5 팀 편성

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 자동 팀 편성 | 레벨 기반 균형 팀 생성 | P0 |
| 팀 수 선택 | 2~4팀 선택 가능 | P0 |
| 수동 조정 | 자동 편성 후 수동 조정 | P1 |
| 편성 결과 공유 | 팀 편성 결과 즉시 공유 | P0 |
## 4. 레벨 시스템

### 4.1 레벨 체계
총 13단계 레벨 시스템 (낮은 숫자가 높은 실력)

```
프로 (1단계)
├── 프로

세미프로 (3단계)
├── 세미프로 3
├── 세미프로 2
└── 세미프로 1

아마추어 (5단계)
├── 아마추어 5
├── 아마추어 4
├── 아마추어 3
├── 아마추어 2
└── 아마추어 1

비기너 (3단계)
├── 비기너 3
├── 비기너 2
└── 비기너 1

루키 (1단계)
└── 루키
```

### 4.2 레벨 점수 체계
팀 편성 알고리즘을 위한 내부 점수:

- **프로**: 13점
- **세미프로 1-3**: 12-10점
- **아마추어 1-5**: 9-5점
- **비기너 1-3**: 4-2점
- **루키**: 1점

## 5. 팀 편성 알고리즘

### 5.1 기본 원칙
- 각 팀의 총 레벨 점수 합계가 균등하도록 분배
- 각 팀의 인원수가 균등하도록 분배 (±1명 허용)
- 상위 레벨 선수들을 먼저 각 팀에 분산 배치

### 5.2 알고리즘 프로세스
1. 참석자 레벨 점수 계산
2. 팀당 목표 점수 = 총점 / 팀 수
3. 레벨 내림차순 정렬
4. Snake draft 방식으로 배치
   - 1라운드: 팀1 → 팀2 → 팀3 → 팀4
   - 2라운드: 팀4 → 팀3 → 팀2 → 팀1
5. 점수 편차 최소화 조정
## 6. 기술 스택

### 6.1 아키텍처
- **애플리케이션 유형**: 모놀리식 (단일 Next.js 앱)
- **Framework**: Next.js App Router (Server Actions/Route Handlers)
- **Database**: NeonDB (PostgreSQL) + Prisma
- **배포**: Vercel (단일 프로젝트)
- **인증**: NextAuth.js (Kakao OAuth)

### 6.2 프론트엔드
- **View**: Next.js App Router (단일 앱)
- **스타일링**: Tailwind CSS
- **상태관리**: Zustand
- **UI 라이브러리**: shadcn/ui

### 6.3 서버/데이터 계층
- **ORM**: Prisma
- **API**: Next.js Route Handlers / Server Actions
- **인증**: NextAuth.js (Kakao Provider)

### 6.4 모듈 구성 (모놀리식)
- **Auth**: 카카오 로그인, 세션 관리
- **User**: 프로필, 레벨/권한 관리
- **Schedule**: 일정 CRUD, 상세/목록, 댓글
- **Attendance**: 참석/불참 투표, 게스트 관리, 실시간 현황
- **Teaming**: 팀 편성 알고리즘, 결과 저장/공유, 수동 조정
- **Admin**: 운영 설정, 기본 통계

## 7. 데이터 모델

### 7.1 주요 엔티티

```typescript
User {
  id: string
  kakaoId: string
  name: string
  email: string
  phone?: string
  level: Level
  role: Role (ADMIN | MEMBER)
  createdAt: DateTime
}

Schedule {
  id: string
  title: string
  date: DateTime
  location: string
  description?: string
  createdBy: User
  createdAt: DateTime
}

Attendance {
  id: string
  scheduleId: Schedule
  userId?: User
  guestName?: string
  guestLevel?: Level
  status: Status (ATTEND | ABSENT | PENDING)
  createdAt: DateTime
}

Team {
  id: string
  scheduleId: Schedule
  teamNumber: number
  members: User[]
  totalScore: number
}

Comment {
  id: string
  scheduleId: Schedule
  userId: User
  content: string
  createdAt: DateTime
}
```
## 8. UI/UX 요구사항

### 8.1 디자인 원칙
- **Mobile First**: 모든 기능이 모바일에서 완벽 작동
- **One-handed Operation**: 한 손 조작 최적화
- **Instant Feedback**: 모든 액션에 즉각적 피드백
- **Minimal Clicks**: 핵심 기능 3클릭 이내 접근

### 8.2 주요 화면
- **대시보드**: 다음 일정, 내 레벨, 빠른 참석 투표
- **일정 목록**: 캘린더/리스트 뷰 전환
- **일정 상세**: 참석자 현황, 투표, 댓글
- **팀 편성**: 드래그앤드롭 지원, 실시간 점수 표시
- **내 프로필**: 참석률, 레벨 히스토리

## 9. 성능 요구사항
- **페이지 로딩**: < 2초
- **API 응답**: < 500ms
- **동시 접속**: 100명 이상
- **가용성**: 99.9%

## 10. 보안 요구사항
- HTTPS 전체 적용
- 세션 기반 인증 (HttpOnly 쿠키, JWT 세션)
- Rate Limiting
- SQL Injection 방지
- XSS/CSRF 방지

## 11. 로드맵

### Phase 1 (MVP) - 4주
- 카카오 로그인
- 기본 CRUD
- 참석 투표
- 자동 팀 편성

### Phase 2 - 2주
- 댓글 기능
- 게스트 관리
- 팀 편성 수동 조정

### Phase 3 - 2주
- 통계 대시보드
- 알림 기능
- 팀 편성 히스토리

## 12. 성공 지표
- **MAU**: 100명 이상
- **일정당 평균 참석률**: 70%
- **팀 편성 만족도**: 4.0/5.0
- **평균 세션 시간**: 3분